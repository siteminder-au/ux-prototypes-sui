import { Meta, Story } from '@storybook/addon-docs'
import { SuiStorybookPageLabel, SuiStorybookTitle } from '@/components'

<Meta title="Guides/Theming/Setup" />

<SuiStorybookPageLabel>Guides</SuiStorybookPageLabel>

<SuiStorybookTitle>
  <h1>Setup</h1>
</SuiStorybookTitle>

- [How to override](#how-to-override)
- [Installation](#installation)


## How to override

The design system supports the ability to "theme" its colors, typography,
and spacing. This is accomplished by overriding the default CSS variables.

You can read more about a different flavor of tiered variables over
on [CSS Tricks](https://css-tricks.com/theming-with-variables-globals-and-locals/)

### High-level application variables

Base color palette specific to the brand - [high-level](/docs/guides-theming--design-tokens#color)

```css dark
/* Colors */
--color-primary-light: #333333;
--color-primary: #006add;
--color-primary-mid: #0057b5;
--color-primary-dark: #0c4583;

/* Typography */
--font-weight-regular: 400;
--font-weight-bold: 600;
--font-weight-x-bold: 900;
```

### Component-specific variables

Override the design system theming variables. Users can map all variables or
override the subset of variables.

The **component-specific variables** will take high-level application variables and
starts applying them to UI. Component-specific variables look something like this:

```css dark
/* Button */
--sm-c-button-color-background-primary: var(--color-primary)
--sm-c-button-color-text-primary: var(--color-primary-dark)
--sm-c-button-color-background-hover: var(--color-primary-light)
--sm-c-button-padding: 0px var(--spacing-md);
```

For example, a team might do some research and testing to find that users are
far more likely to click blue things rather than the UI's current yellow color.
Rather than combing through the entire codebase, the team can update the value
of `--sm-c-button-color-background-primary` to `--color-brand-blue` and watch
all the components meant for primary action switch from yellow to blue.

All remapping should be done at high-level application variables to maintain the
theming on a higher-level however in some cases users will still be able to
remap/modify component-specific variables values however the component level
application variable key (`--sm-c-button-padding`) will remain the same.

<a href="https://siteminder.atlassian.net/wiki/spaces/SUI/pages/2332951370/Variables+mapping" target="_blank">
  Mapping diagram
</a>

## Installation

To install `@siteminder/sui-themes` in your project, you will need to run the
following command using [npm](https://www.npmjs.com/):

```bash dark
npm i @siteminder/sui-themes@latest
```

### Update CSS variables in your project

`sui-themes` is written in CSS and constructed using
[CSS custom properties](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties)
(also referred to as CSS variables or cascading variables).
If your project uses CSS/SCSS, you can directly update SUI's style variables.

Create a new style file, e.g. `sui-variables.css` or `sui-variables.scss`.

In this file you can find all the variables we used to style components and
they are defined in CSS format.

Here's a snippet:

```css dark
:root {

  /**
   * First tier: brand definitions
   * 1) These variables define the brand. We're looking for
   *    generic declarations like "brand-blue", "brand-purple", and
   *    so on. They should not imply usage.
   */

}

:root {

  /**
   * Second tier: high-level application variables
   * 1) At this tier you can define global values, such as "primary
   *   color, secondary color, primary text color, action color,
   *   default spacing values, and so on. These values help map the
   *   brand variable definitions to actual utility. That said, these
   *   values should not include component-specific values like
   *   button-color-background. Those will be handled at the individual
   *   component level.
   */

  /* Color */
  --color-white: #fff;
  --color-black: #333;

  --color-primary-light: #333333;
  --color-primary: #006add;
  --color-primary-mid: #0057b5;
  --color-primary-dark: #0c4583;

}

/** ---------------------------------------------------------------------------
 * Components styles: component-specific variables
 * 1) Here we map the theme's second-tier global variables to the
 *   specific components.
 * 2) Worth noting in a production environment the :root variables
 *   would be updated rather than a theme-specific body class.
 */

.sm-button {

}
```

You can also preview the default SUI variable
file [here](https://github.com/siteminder-au/sui/blob/develop/libs/sui-themes/src/app/common/variables.scss).

By default, `@siteminder/sui-themes` provide a set of variables that are
pre-defined for SUI. Currently, we offer the following design token and
styling hooks.

You can preview all of the token values for this on
the [SUI design tokens](/docs/guides-theming--design-tokens), and
styling hooks for example: [button component](/story/components-button--styling-hooks).

### Update the project entry-level file

Then in the entry file of your project main.ts
(or a similar entry-level file), import the following style files:


```ts dark
import { createApp } from 'vue'

import SuiCore from "@siteminder/sui-core"
import "@siteminder/sui-core/sui-global.css"

// Theming layer
import '@siteminder/sui-themes/sui-theme.esm.css'
import './sui-variables.css'

import { i18n } from "@/services/i18n"

const app = createApp({
  /* ... */
})

app.use(SuiCore, { i18n })
```
