import {Canvas, Meta, Story } from '@storybook/addon-docs'
import { SuiStorybookPageLabel, SuiStorybookTitle } from '@/components'
import methodsInlineValidation from './images/methods-inline-validation.png'
import methodsFormValidation from './images/methods-form-validation.png'
import recommendationMixAndMatch1 from './images/recommendation-1.png'
import recommendationMixAndMatch2Form from './images/recommendation-2-form.png'
import recommendationMixAndMatch2Wizard from './images/recommendation-2-wizard.png'
import recommendationMixAndMatch3 from './images/recommendation-3.png'

<style>
  {`
    .img-padding {
      padding-top: 16px;
      padding-bottom: 16px;
    }

  `}
</style>

<Meta title="Design patterns/Error patterns/UX of form validations" />

<SuiStorybookPageLabel>Design patterns</SuiStorybookPageLabel>

<SuiStorybookTitle>
  <h1>Error patterns</h1>
  <p>Errors offer users valuable feedback within a specific context, enabling them to address failures and prevent potential issues down the line.</p>
</SuiStorybookTitle>

- [Validation rules](#validation-rules)
- [Methods](#methods)
- [Recommendations](#recommendations)


## Validation rules
Whenever users submit their answers in a form, the forms need to be securely checked for errors, specifically on the server.

### Server-side validation
Whenever a user enters information or fills out the form, the server checks everything for errors. This part of the server needs to be safeguarded from any harmful actions by the users.

### Client-side validation
To enhance the user experience, adding client-side validation is recommended. When users fill out a form on a website, the browser checks if the input is correct right away. It shows the users if your information is valid or not.

## Methods

### Inline validations (before submission)
A type of client-side validation that checks the user's answers. If there's an error, it shows  the input field in error state when the user moves away from the field. When users provide correct information, the input error state is removed.
<img src={methodsInlineValidation} className="img-padding" alt="Error showing when the user moves away from the field,the input field is in error state as next field is on active state." width="340"/>


### Form validation (after submission)
This type of submission collects all the data first, allowing users to answer the forms freely. The data is sent to the server when the user clicks the submit button.
<img src={methodsFormValidation} className="img-padding" alt="Multiple error showing on a form after user clicks on save. An error summary is displayed on top of the page white input fields with error are in an error state." width="520" />


## Recommendations
### Mix and match approach
If using inline validation right away could lead to more mistakes, it's better to avoid using it at first. Here is SUI's recommendation regarding the mix and match approach on inline validation and form validation:

- If a user enters an incorrect value we can validate it when it loses focus and show the inline error message
<img src={recommendationMixAndMatch1} className="img-padding" alt="Sample when a user enters an incorrect value that is validated when it loses focus and showing the inline error message." width="340" />

- If they don't fix it, it will get called out with the help card - warning at top when they submit the form
<strong>FORM SAMPLE</strong>
<img src={recommendationMixAndMatch2Form} className="img-padding" alt="Sample when a user doesn't fix an error, it is called out with the help card - warning is placed at top of the form and shown when they submit the form." width="720" />
<strong>FORM SAMPLE</strong>
<img src={recommendationMixAndMatch2Wizard} className="img-padding" alt="Sample for wizard when a user doesn't fix an error, it is called out with the help card - warning is placed at top of the form and shown when they submit the form." />

- If they just skip a mandatory field entirely, it will get validated when they submit the form and show inline error and help card on top of the form.
<img src={recommendationMixAndMatch3} className="img-padding" alt="Sample when a user skips skip a mandatory field entirely, and gets validated when they submit the form showing an inline error and help card on top of the form." width="720" />

### Submit button
#### Don't disable the submit button
Some forms have the submit button disabled until certain requirements are met. However this can confuse users if they can't submit without knowing why, and can be frustrating for keyboard users who can't select the submit button without any explanation.

Allow users to click the submit button whenever they want, and if there's an error, anchor the user to the error and show them the error message with instructions on how to resolve it.
