/**
 * Select styles
 * These are the actual CSS properties for the select component.
 * The shared CSS declarations as written as normal CSS, but themeable
 * values are expressed as variables.
 */

body {
  .sm-select {
    /* Space between field and dropdown */
    $dropdownOffset: 2px;

    .multiselect {
      background-color: var(--sm-c-select-color-background);
      border-color: var(--sm-c-select-color-border);
      border-width: var(--sm-c-select-border-width);
      color: var(--sm-c-select-color-text);

      &__tags {
        padding-left: var(--sm-c-select-padding-x);
        padding-bottom: var(--sm-c-select-padding-y);
        padding-top: var(--sm-c-select-padding-y);
      }

      &__content-wrapper {
        background: var(--sm-c-select-dropdown-color-background);
        border-color: var(--sm-c-select-dropdown-color-border);
        border-radius: var(--sm-c-select-dropdown-border-radius);
        border-width: var(--sm-c-select-dropdown-border-width);
        box-shadow: var(--sm-c-select-dropdown-box-shadow);
        top: calc(100% + calc(var(--sm-c-select-border-width) + $dropdownOffset));
      }

      &__spinner {
        border-top-right-radius: var(--sm-c-select-border-radius);
        border-bottom-right-radius: var(--sm-c-select-border-radius);
      }

      /* Active / focus state */
      &--active {
        border-color: var(--sm-c-select-color-border-focus);
        box-shadow: var(--sm-c-select-box-shadow-focus);
      }

      &--above {
        .multiselect__content-wrapper {
          background: var(--sm-c-select-dropdown-color-background);
          border-color: var(--sm-c-select-dropdown-color-border);
          border-radius: var(--sm-c-select-dropdown-border-radius);
          border-width: var(--sm-c-select-dropdown-border-width);
          bottom: calc(100% + calc(var(--sm-c-select-border-width) + $dropdownOffset));
        }
      }

      /* Disabled state */
      &--disabled {
        background: var(--sm-c-select-color-background-disabled);
        border-color: var(--sm-c-select-color-border-disabled);
        color: var(--sm-c-select-color-text-disabled);

        .sm-select__indicator {
          color: var(--sm-c-select-color-icon-disabled);
        }
      }

      /* Dropdown option */
      &__option {
        color: var(--sm-c-select-dropdown-option-color-text);
      }

      &__option--highlight:not(&__option--group) {
        background: var(--sm-c-select-dropdown-option-color-background-hover);
      }

      &__option--highlight::after {
        background: var(--sm-c-select-dropdown-option-color-background-hover);
      }

      &__option--selected {
        background: var(--sm-c-select-dropdown-option-color-background-selected);
        border-left-color: var(--sm-c-select-dropdown-option-color-border-selected);
      }
    }

    &:not(&--suffix) .multiselect {
      border-bottom-right-radius: var(--sm-c-select-border-radius);
      border-top-right-radius: var(--sm-c-select-border-radius);
    }

    &:not(&--prefix) .multiselect {
      border-bottom-left-radius: var(--sm-c-select-border-radius);
      border-top-left-radius: var(--sm-c-select-border-radius);
    }

    &__title {
      color: var(--sm-c-select-dropdown-group-title-color-text);
    }

    &__group-content {
      border-top-color: var(--sm-c-select-dropdown-group-color-border);
    }

    &__indicator {
      color: var(--sm-c-select-color-icon);
    }

    &__option-description {
      color: var(--sm-c-select-dropdown-option-description-color-text);
    }

    &__option--disabled {
      background: var(--sm-c-select-dropdown-option-color-background-disabled);
      color: var(--sm-c-select-dropdown-option-color-text-disabled);

      .sm-select__option-description {
        color: var(--sm-c-select-dropdown-option-description-color-text-disabled);
      }
    }

    /* Prefix / suffix slots */
    &__prefix-slot,
    &__suffix-slot {
      .sm-button .sm-button__content {
        align-items: center;
      }
    }

    &__prefix-slot {
      color: var(--sm-c-select-prefix-slot-color-text);
      background: var(--sm-c-select-prefix-slot-color-background);
      border-color: var(--sm-c-select-prefix-slot-color-border);
      border-width: var(--sm-c-select-prefix-slot-border-width);
      border-top-left-radius: var(--sm-c-select-border-radius);
      border-bottom-left-radius: var(--sm-c-select-border-radius);

      .sm-button .sm-button__content {
        border-top-left-radius: var(--sm-c-select-border-radius);
        border-bottom-left-radius: var(--sm-c-select-border-radius);
      }
    }

    &__suffix-slot {
      color: var(--sm-c-select-suffix-slot-color-text);
      background: var(--sm-c-select-suffix-slot-color-background);
      border-color: var(--sm-c-select-suffix-slot-color-border);
      border-width: var(--sm-c-select-suffix-slot-border-width);
      border-top-right-radius: var(--sm-c-select-border-radius);
      border-bottom-right-radius: var(--sm-c-select-border-radius);

      .sm-button .sm-button__content {
        border-top-right-radius: var(--sm-c-select-border-radius);
        border-bottom-right-radius: var(--sm-c-select-border-radius);
      }
    }

    /* Prefix content */
    .sm-select-prefix-content {
      padding: var(--sm-c-select-prefix-content-padding-y) var(--sm-c-select-prefix-content-padding-x);
    }

    /* Suffix content */
    .sm-select-suffix-content {
      padding: var(--sm-c-select-suffix-content-padding-y) var(--sm-c-select-suffix-content-padding-x);
    }

    .multiselect__option .sm-select__option-checkbox {
      background: var(--sm-c-select-dropdown-option-checkbox-color-background);
      border-color: var(--sm-c-select-dropdown-option-checkbox-color-border);
      border-width: var(--sm-c-select-dropdown-option-checkbox-border-width);
      padding: var(--sm-c-select-dropdown-option-checkbox-padding);

      span::before,
      span::after {
        background-color: var(--sm-c-select-dropdown-option-checkbox-color-foreground);
      }

      &:hover {
        background: var(--sm-c-select-dropdown-option-checkbox-color-background-hover);
        border-color: var(--sm-c-select-dropdown-option-checkbox-color-border-hover);

        span::before,
        span::after {
          background-color: var(--sm-c-select-dropdown-option-checkbox-color-foreground-hover);
        }
      }
    }

    .multiselect__option--selected .sm-select__option-checkbox {
      background: var(--sm-c-select-dropdown-option-checkbox-color-background-checked);
      border-color: var(--sm-c-select-dropdown-option-checkbox-color-border-checked);

      span::before,
      span::after {
        background-color: var(--sm-c-select-dropdown-option-checkbox-color-foreground-checked);
      }
    }

    .multiselect__option--selected .sm-select__option-checkbox:hover {
      background: var(--sm-c-select-dropdown-option-checkbox-color-background-checked-hover);
      border-color: var(--sm-c-select-dropdown-option-checkbox-color-border-checked-hover);

      span::before,
      span::after {
        background-color: var(--sm-c-select-dropdown-option-checkbox-color-foreground-checked-hover);
      }
    }

    .multiselect__option--disabled .sm-select__option-checkbox {
      background: var(--sm-c-select-dropdown-option-checkbox-color-background-disabled);
      border-color: var(--sm-c-select-dropdown-option-checkbox-color-border-disabled);
      border-width: var(--sm-c-select-dropdown-option-checkbox-border-width-disabled);
      padding: var(--sm-c-select-dropdown-option-checkbox-padding-disabled);

      span::before,
      span::after {
        background-color: var(--sm-c-select-dropdown-option-checkbox-color-foreground-disabled);
      }
    }

    .multi-select__option--disabled.multiselect__option--selected .sm-select__option-checkbox {
      background: var(--sm-c-select-dropdown-option-checkbox-color-background-checked-disabled);
      border-color: var(--sm-c-select-dropdown-option-checkbox-color-border-checked-disabled);

      span::before,
      span::after {
        background-color: var(--sm-c-select-dropdown-option-checkbox-color-foreground-checked-disabled);
      }
    }

    /* Tags */
    .sm-select__tag.sm-tag {
      background: var(--sm-c-select-tag-color-background);
      border-radius: var(--sm-c-select-tag-border-radius);
      color: var(--sm-c-select-tag-color-text);
      font-size: var(--sm-c-select-tag-font-size);
      padding: var(--sm-c-select-tag-padding);

      .sm-tag__content {
        font-weight: var(--sm-c-select-tag-font-weight);
        letter-spacing: var(--sm-c-select-tag-letter-spacing);
        line-height: var(--sm-c-select-tag-line-height);
      }

      .sm-tag__close {
        color: var(--sm-c-select-tag-close-color-icon);
        padding: var(--sm-c-select-tag-close-padding);
        margin-left: var(--sm-c-select-tag-close-margin-left);
        width: var(--sm-c-select-tag-close-width);
        height: var(--sm-c-select-tag-close-height);

        .sm-icon {
          font-size: var(--sm-c-select-tag-close-icon-size);
        }
      }

      &:not(.sm-tag--disabled) .sm-tag__close:hover {
        background: var(--sm-c-select-tag-close-color-background-hover);
      }
    }

    /* Collapsed tags counter */
    .multiselect__strong {
      background: var(--sm-c-select-tag-color-background);
      border-radius: var(--sm-c-select-tag-border-radius);
      color: var(--sm-c-select-tag-color-text);
      font-size: var(--sm-c-select-tag-font-size);
      font-weight: var(--sm-c-select-tag-font-weight);
      letter-spacing: var(--sm-c-select-tag-letter-spacing);
      line-height: var(--sm-c-select-collapsed-tag-line-height);
      padding: var(--sm-c-select-collapsed-tag-close-padding);
    }

    &.sm-field--invalid {
      .multiselect:not(.multiselect--disabled),
      .multiselect.multiselect--disabled {
        border-color: var(--sm-c-select-color-border-invalid);
      }
    }

    &.sm-field--invalid.sm-field--focussed {
      .multiselect:not(.multiselect--disabled) {
        box-shadow: var(--sm-c-select-box-shadow-focus-invalid);
      }
    }
  }
}
