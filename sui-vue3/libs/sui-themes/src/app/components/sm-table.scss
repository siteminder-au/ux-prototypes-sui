/**
 * Table styles
 * These are the actual CSS properties for the table component.
 * The shared CSS declarations as written as normal CSS, but themeable
 * values are expressed as variables.
 */

 body {
  .sm-table {
    border-radius: var(--sm-c-table-border-radius);

    td {
      background: var(--sm-c-table-color-background);
    }

    &.sm-table--fixed-header-left {
      td:first-child,
      th:first-child {
        background-color: var(--sm-c-table-color-background);
      }

      td:first-child:not(.sm-table-td--expandableRow),
      th:first-child:not(.sm-table-td--expandableRow) {
        background-color: var(--sm-c-table-th-color-background);
      }
    }

    &.sm-table--shadow-left {
      td:first-child,
      th:first-child {
        box-shadow: var(--sm-c-table-th-fixed-header-shadow);
      }
    }

    &.sm-table--fixed-header-right {
      td:last-child,
      th:last-child {
        background-color: var(--sm-c-table-th-color-background);
      }

      tr {
        &:focus,
        &:hover {
          td:last-child {
            background-color: var(--sm-c-table-th-color-background);
          }
        }
      }
    }

    &.sm-table--fixed-footer tfoot td {
      background-color: var(--sm-c-table-tfoot-color-background);
      box-shadow: var(--sm-c-table-tfoot-shadow);
    }

    &.sm-table--fixed-header {
      .sm-table-thead {
        tr {
          &:first-child .sm-table-th {
            border-top: var(--sm-c-table-border);

            &:not(.sm-table-th--static-header) {
              background-color: var(--sm-c-table-th-color-background);
            }
          }

          &:nth-child(2) .sm-table-th {
            background-color: var(--sm-c-table-th-color-background);
            border-top: var(--sm-c-table-border);
          }
        }
      }
    }

    .sm-table-tbody th {
      background-color: var(--sm-c-table-th-color-background-static);
    }

    tbody:last-child tr:last-of-type,
    tfoot:last-child tr:last-of-type {
      &.sm-table-tr--selected {
        border-bottom-left-radius: var(--sm-c-table-border-radius);
        border-bottom-right-radius: var(--sm-c-table-border-radius);
      }

      td {
        &:first-of-type {
          border-bottom-left-radius: var(--sm-c-table-border-radius);
        }

        &:last-of-type {
          border-bottom-right-radius: var(--sm-c-table-border-radius);
        }
      }
    }

    /* Table sizes */
    &--size-x-small .sm-table-tr {
      .sm-table-th,
      .sm-table-td__content,
      .sm-input--editable-cell.sm-input .sm-input__field {
        font-size: var(--sm-c-table-font-size-xsmall);
        line-height: var(--sm-c-table-line-height-xsmall);
        letter-spacing: var(--sm-c-table-letter-spacing-xsmall);
      }
    }

    &--size-small .sm-table-tr {
      .sm-table-th,
      .sm-table-td__content,
      .sm-input--editable-cell.sm-input .sm-input__field {
        font-size: var(--sm-c-table-font-size-small);
        line-height: var(--sm-c-table-line-height-small);
        letter-spacing: var(--sm-c-table-letter-spacing-small);
      }
    }

    /* Header */
    .sm-table-thead {
      background-color: var(--sm-c-table-th-color-background);

      tr {
        &:first-of-type {
          th {
            &:first-of-type {
              border-top-left-radius: var(--sm-c-table-border-radius);
            }

            &:last-of-type {
              border-top-right-radius: var(--sm-c-table-border-radius);
            }
          }
        }
      }
    }

    .sm-table-th {
      background-color: var(--sm-c-table-th-color-background);
      border: var(--sm-c-table-border);
      border-right: 0;
      padding: var(--sm-c-table-th-padding);

      &:last-child {
        border-right: var(--sm-c-table-border);
      }

      &--static-header {
        background-color: var(--sm-c-table-th-color-background-static);
        padding: var(--sm-c-table-th-padding-static);
        border-bottom: 0;
      }

      &__icon {
        color: var(--sm-c-table-th-sort-color-icon);
        font-size: var(--sm-c-table-th-sort-font-size);
      }
    }

    /* Body */
    .sm-table-tbody {
      &--alternating-rows {
        tr:nth-child(even) {
          background-color: var(--sm-c-table-tr-color-background-alternate);

          .sm-table-td {
            background-color: var(--sm-c-table-tr-color-background-alternate);
          }

          &:hover,
          &:focus {
            background-color: var(--sm-c-table-tr-color-background-alternate);

            .sm-table-td {
              background-color: var(--sm-c-table-tr-color-background-alternate);
            }
          }
        }
      }
    }

    /* Row */
    .sm-table-tr {
      &:hover,
      &:focus {
        background-color: var(--sm-c-table-tr-color-background-hover);

        .sm-table-th {
          background-color: var(--sm-c-table-th-color-background);
        }

        td {
          background-color: var(--sm-c-table-tr-color-background-hover);
        }
      }

      &--selected {
        outline: var(--sm-c-table-tr-outline-selected);
        outline-offset: var(--sm-c-table-tr-outline-offset-selected);

        .sm-table-td {
          background-color: var(--sm-c-table-tr-color-background-selected);
        }

        &:hover,
        &:focus {
          .sm-table-td {
            background-color: var(--sm-c-table-tr-color-background-selected);
          }
        }
      }

      &--aria-control {
        &:hover,
        &:focus {
          .sm-table-td {
            background-color: var(--sm-c-table-tr-color-background-hover) !important;
          }

          .sm-table-td__container {
            background-color: var(--sm-c-table-tr-color-background-hover);
          }
        }

        .sm-table-td--expandableRow {
          .sm-table-td__button {
            border: 0;
          }
        }

        td {
          background-color: var(--sm-c-table-tr-color-background-expanded-level-one) !important;
        }
      }

      &--expanded ~ .sm-table-tr--aria-control:not(.sm-table-tr--expanded) {
        > .sm-table-td {
          background-color: var(--sm-c-table-tr-color-background-expanded-level-two) !important;
        }
      }

      &--expanded ~ .sm-table-tr--aria-control:not(.sm-table-tr--expanded) {
        &:hover,
        &:focus {
          > .sm-table-td {
            background-color: var(--sm-c-table-tr-color-background-hover) !important;
          }
        }
      }
    }

    /* Data cell */
    .sm-table-td {
      border-bottom: var(--sm-c-table-border);
      border-left: var(--sm-c-table-border);

      &:last-child {
        border-right: var(--sm-c-table-border);
      }

      &--disabled {
        background: var(--sm-c-table-td-color-background-disabled);
        opacity: var(--sm-c-table-td-opacity-disabled);

        .sm-table-td__container, .sm-table-td__content {
          opacity: var(--sm-c-table-td-content-opacity-disabled);
        }
      }

      &--border-left {
        border-left: var(--sm-c-table-td-border-left) !important;
      }

      &--expandableRow .sm-table-td__button {
        border-right: var(--sm-c-table-border);
      }

      &--active-cell {
        border: var(--sm-c-table-td-border-active);
      }

      &__arrow {
        .sm-icon {
          color: var(--sm-c-table-td-arrow-color-icon);
        }
      }
    }
  }

  .sm-table-container {
    &--linear-gradient-left::before {
      background-image: var(--sm-c-table-gradient-left);
    }

    &--linear-gradient-right::after {
      background-image: var(--sm-c-table-gradient-right);
    }

    &--scrollbar {
      &::-webkit-scrollbar-thumb {
        background: var(--sm-c-table-scrollbar-thumb-color-background);
      }
    }

    .sm-table-td__heading {
      background-color: var(--sm-c-table-th-color-background);
      border-right: var(--sm-c-table-border);
    }
  }

  // Responsive table Style
  @media (max-width: 640px) {
    .sm-table.sm-table--is-responsive {
      .sm-table-td--active-cell {
        .sm-table-td__container {
          outline: var(--sm-c-table-td-border-active);
        }

        .sm-table-tr {
          border-bottom: var(--sm-c-table-border);
        }

        .sm-table-td {
          border-top: var(--sm-c-table-border);
          border-right: var(--sm-c-table-border);
        }
      }

      tbody:last-child tr:last-of-type,
      tfoot:last-child tr:last-of-type {
        td {
          &:first-of-type {
            border-bottom-left-radius: 0;
          }

          &:last-of-type {
            border-bottom-right-radius: 0;
          }
        }
      }

      .sm-table-tr {
        border-bottom: var(--sm-c-table-border);

        .sm-table-td {
          border-top: var(--sm-c-table-border);
          border-right: var(--sm-c-table-border);
          border-left: var(--sm-c-table-border);
        }
      }
    }
  }
}
