import { Meta, Story } from '@storybook/addon-docs'
import { SuiStorybookPageLabel, SuiStorybookTitle } from '@/components'
import altRows from './images/table-alt-rows.png'
import anatomy from './images/table-anatomy.png'
import buttonLarge from './images/table-button-large.png'
import buttonMedium from './images/table-button-medium.png'
import buttonSmall from './images/table-button-small.png'
import buttonXlarge from './images/table-button-xlarge.png'
import buttonXsmall from './images/table-button-xsmall.png'
import editable from './images/table-editable.png'
import fixedColHeader from './images/table-fixed-col-header.png'
import fixedFooter from './images/table-fixed-footer.png'
import fixedRowHeader from './images/table-fixed-row-header.png'
import large from './images/table-large.png'
import medium from './images/table-medium.png'
import overflowFixedCols from './images/table-overflow-fixed-cols.png'
import overflowNormal from './images/table-overflow-normal.png'
import selecting from './images/table-selecting.png'
import small from './images/table-small.png'
import sorting from './images/table-sorting.png'
import specsAlignment from './images/table-specs-alignment.png'
import specsCellPadding from './images/table-specs-cell-padding.png'
import specsCornerRadius from './images/table-specs-corner-radius.png'
import specsOutline from './images/table-specs-outline.png'
import specsTargetArea from './images/table-specs-target-area.png'
import standard from './images/table-standard.png'
import statesCell from './images/table-states-cell.png'
import statesRow from './images/table-states-row.png'
import staticHeader from './images/table-static-header.png'
import stickySubheader from './images/table-sticky-subheader.png'
import utilityStates from './images/table-utility-states.png'
import xlarge from './images/table-xlarge.png'
import xsmall from './images/table-xsmall.png'

<Meta title="Components/Table/Overview" />

<SuiStorybookPageLabel>Components</SuiStorybookPageLabel>

<SuiStorybookTitle>
  <h1>Table</h1>
  <p>
    Tables display sets of data across rows and columns, making it efficient to look up values.
  </p>
</SuiStorybookTitle>

- [Usage](#usage)
- [Formatting](#formatting)
- [Sizing](#sizing)
- [Variants](#variants)
- [States](#states)
- [Specs](#specs)
- [Behaviours](#behaviours)
- [References](#references)



## Usage

Tables are the bread and butter of SiteMinder, and rightly so, as a lot of the information we present to our users on a daily basis comes in the form of complex data - and there is no better way to deliver this than via tables.

Tables use a grid-like style of rows and columns to show information. They organise data in a scannable style so that consumers may see patterns and draw insights from it.

**Tables can contain:**

1. Interactive components (such as chips or buttons)
2. Non-interactive elements (such as badges)
3. Tools to query and manipulate data

### When to use
Tables are intended to display data that can be easily scanned and compared. Use tables to allow users to:

1. When showing a group of structured data for comparison
2. Show structured information with the same attributes for each entry.
3. Allowing people to view, enter, edit, and filter granular data sets.

### How to use

Examples of the component can be found [here](https://www.figma.com/file/Au1waCRAR4SpFvIgEMASgf/sui-documentation?node-id=17%3A795533&t=gL5sERVeIePkdvS0-0) as a
variant of the table component. Please share this with your engineer so they can ensure the styling remains consistent across our app.


## Formatting

### Anatomy
**1: Table Header** - Table Header describes the type of content displayed in each column. Each row contains data related to a single entity.

**2: Table Cell** - Table cells have six different states: default, hover, selected, editable, editable-error and disabled. The hover state applies even if the cell
is not interactive.

**3: Interactive elements**

- **Row checkbox:** When a row checkbox is selected, the row should display a background color.
- **Sort:** Sorting is optional and if you decide to use it, icons will appear right of the header.On desktop the icons appear on hover, and on tablet and mobile they
are always visible. By default, one column should be sorted.
- **Table Controls / Filter chips:** Controls that manipulate how table data is displayed should be placed directly above or below a table.

**4: Container** - Wraps the table header and rows.

<img src={anatomy} alt="Anatomy" width="846" />

## Sizing

Tables are available in xlarge, large, medium/standard, small and xsmall sizes. Size controls font size and density controls the padding within the cells.

### XSmall
- Font: paragraph-small (13)
- Paddings: 8px
- Icons: 16x16

<img src={xsmall} alt="XSmall table" width="846" />

### Small
- Font: paragraph-small (13)
- Paddings: 12px
- Icons: 16x16

<img src={small} alt="Small table" width="846" />

### Medium/Standard
- Font: paragraph-large (15)
- Paddings: 12px
- Icons: 16x16

<img src={medium} alt="Medium table" width="846" />

### Large
- Font: paragraph-large (15)
- Paddings: 16px
- Icons: 16x16

<img src={large} alt="Large table" width="846" />

### XLarge
- Font: paragraph-large (15)
- Paddings: 20px, 24px
- Icons: 16x16

<img src={xlarge} alt="XLarge table" width="846" />

## Variants

### Standard
Standard variant is the component's default setting. Additional functionality, on the other hand, can be added to enrich the table for various use cases.

Use **min-width** to set the minimum width of a table element. It limits the width property to be not smaller than the value specified in min-width.

<img src={standard} alt="Standard table" width="846" />

### Static Header
The static header variant is almost similar to the standard variant. A header info row is used in conjunction with the header row to group similar columns.

Use **static-header props** to display static header on top.

<img src={staticHeader} alt="Static header" width="846" />

### Alternating rows

<img src={altRows} alt="Alternating rows" width="846" />

### Fixed row header
When a user starts scrolling vertically, fix the header to the top of the table. This provides context by keeping the column labels in view at all times.

Set the **fixedHeader** props to **'true'** to show the fixed header on top.

<img src={fixedRowHeader} alt="Fixed row header" width="846" />

### Fixed column header
The first column (with identifying information) is fixed to the side of the table. This provides context by keeping the row headings in view at all times.

Fixed column headers can be placed on the left or right side of the table:
- Set the **fixedHeaderLeft** props to**'true'** to show fixed column header on left, or set the **fixedHeaderRight** props to **'true'** to show fixed column header on right.

<img src={fixedColHeader} alt="Fixed column header" width="846" />

### Fixed footer
A fixed footer can be used for tables with actions displayed in a row, allowing the user to keep context and easily know what they're acting on.

Set the **fixedFooter** props to **'true'** to show fixed footer on bottom

<img src={fixedFooter} alt="Fixed footer" width="846" />

### Subheaders and sticky subheaders
Use **disabled** props **sm-table-td** component to disabled the interaction with cell items.

<img src={stickySubheader} alt="Subheaders and sticky subheaders" width="846" />

### Overflow - normal
An overflow happens when the content overflows an element bound. It allows content to be compact for small screens while still taking advantage of the extra screen space.

When scrolling reaches the end of the table - the gradient on that side should be hidden.

<img src={overflowNormal} alt="Normal overflow" width="846" />

### Overflow - with fixed column headers
If the fixed column is applied to the left, no overflow gradient should be shown on the left hand side when the table is scrolled. Vice versa, if the static column is on the right hand side.

<img src={overflowFixedCols} alt="Overflow with fixed column headers" width="846" />

### Buttons
Follow the buttons sizes indicated for each table size. Buttons are embedded directly in a table cell. Button sizes are available in [here](/story/components-button--sizes).

**XSmall -** Button: Mini
<img src={buttonXsmall} alt="Button xsmall" width="846" />

**Small -** Button: Small
<img src={buttonSmall} alt="Button small" width="846" />

**Medium/Standard -** Button: Default
<img src={buttonMedium} alt="Button medium" width="846" />

**Large -** Button: Default
<img src={buttonLarge} alt="Button large" width="846" />

**Xlarge -** Button: Default
<img src={buttonXlarge} alt="Button xlarge" width="846" />

### Utility States

This is not part of the SUI components. We include this here for documentation & guide purposes. It will be up to the product engineers to deliver if something like this is required.

**Secondary Icons:** Please include icons when a utility state is required to display/reinforce the data presented. This is because background colours by themselves are not accessible to colourblind users.

**Placement:** Placement and positioning of the icons are up to designer's discretion

**Colour:**
- Background colour = Utility light colours (Warning light, Alert light)
- Icon colour = Utility colour (Warning, Alert, etc)

<img src={utilityStates} alt="Utility states" width="846" />

## States

### Table Cell
Table cells have six different states: default, hover, selected, editable, editable-error and disabled. The hover state applies even if the cell is not interactive.

<img src={statesCell} alt="Table cell states" width="846" />

### Row
A table state is applied to the row when it is selected. When a row is selected or hovered, all table cells on that row show the same state.

<img src={statesRow} alt="Table row state" width="846" />

## Specs

### Minimum Width
All tables must have a minimum width set individually by each designer/engineer. This means that if you are using a table in your design, you must estimate and set the minimum width of the table, this will be based on your content + 20% extra width for translation/i18n. This minimum width will be the calculation in which horizontal scrolling will take effect so the table is able to be viewed on all screen sizes.

This does not apply to certain full-width tables i.e. reservations, rate plans, etc.

### Target area
The minimum touch target for medium/standard table for interactive elements is 40 x 48px. Adjust accordingly in xsmall-small size tables.

<img src={specsTargetArea} alt="Target area" width="252" />

### Table cell padding
Table cell padding depends on the size of the table cells/headers. This is minimized to improve content density.

<img src={specsCellPadding} alt="Cell padding" width="846" />

### Corner radius
By default, table cells are rectangular. The table container has rounded corners with a 4px corner radius.

<img src={specsCornerRadius} alt="Corner radius" width="846" />

### Elevation
Because they're commonly in front of solid color backgrounds, data tables don't convey elevation. They don't move in front of or behind other objects, either.

Elevation: 0px

### Container outline
A table can be separated from another table or other components using an outline.
- Stroke: 1px
- Color: #C6CEDA (app) $blue-neu-mid

<img src={specsOutline} alt="Outline" width="846" />

### Alignment
- **Numerical:** To increase scannability, align numbers to the right.
- **Textual:** Align to the left
- Don't center align

<img src={specsAlignment} alt="Alignment" width="846" />

## Behaviours

### Sorting
Sorting is optional and if you decide to use it, icons will appear right of the header.On desktop the icons appear on hover, and on tablet and mobile they are always visible.

You have the option to allow users to sort by individual column by clicking on the switch-vert  icon. This icon state indicates that no sorting has occurred. However, when clicking on it, it will first sort by descending icon, then clicking the icon again, it will sort ascending.

<img src={sorting} alt="Sorting" width="588" />

### Selecting
You can enable users to select rows by providing the checkbox feature so that they can perform bulk tasks.

<img src={selecting} alt="Selecting" width="846" />

### Editable tables
Tables can be edited directly by users if this feature is enabled.

<img src={editable} alt="Editable" width="846" />

### Filtering
Any filtering options should be placed just above the table, with the option to clear the filter data.


## References

https://medium.com/pulsar/modern-enterprise-ui-design-part-1-tables-ad8ee1b9feb

https://medium.com/appnroll-publication/5-practical-solutions-to-make-responsive-data-tables-ff031c48b122

https://uxdesign.cc/designing-a-complex-table-for-mobile-consumption-nom-7472f7b11fe6

https://www.smashingmagazine.com/2019/01/table-design-patterns-web/

https://ux.shopify.com/lessons-from-building-mobile-friendly-accessible-data-tables-1e05c6924eaf

https://tink.uk/how-screen-readers-navigate-data-tables/

https://www.viget.com/articles/testing-accordion-menu-designs-iconography/

https://uxdesign.cc/designing-tables-for-reusability-490a3760533

https://www.smashingmagazine.com/2019/02/complex-web-tables/

https://www.w3.org/WAI/tutorials/tables/

https://www.w3.org/TR/wai-aria-practices/examples/grid/dataGrids.html
